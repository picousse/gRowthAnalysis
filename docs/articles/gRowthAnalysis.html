<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (one line, title case) • gRowthAnalysis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="What the Package Does (one line, title case)">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gRowthAnalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/gRowthAnalysis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/picousse/gRowthAnalysis">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>What the Package Does (one line, title case)</h1>
                        <h4 class="author">pieter coussement</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/picousse/gRowthAnalysis/blob/master/vignettes/gRowthAnalysis.Rmd"><code>vignettes/gRowthAnalysis.Rmd</code></a></small>
      <div class="hidden name"><code>gRowthAnalysis.Rmd</code></div>

    </div>

    
    
<p>How to use:</p>
<div id="data-input-" class="section level1">
<h1 class="hasAnchor">
<a href="#data-input-" class="anchor"></a>data input.</h1>
<div id="xml-file" class="section level2">
<h2 class="hasAnchor">
<a href="#xml-file" class="anchor"></a>XML file</h2>
<p>code underneath is able to parse the tecan xml output into a rather simple csv file that can then be straightforwardly processed. This function is not so fast, and thus it is best to do this once at the beginning of an analysis, write to a csv, and work from the csv latter on.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">file =<span class="st"> "data/20190618_bidir_GFPmorange_GFPgain95/2019-06-07 15-56-57_plate_1.xml"</span></a>
<a class="sourceLine" id="cb1-2" title="2">xml.in =<span class="st"> </span><span class="kw"><a href="../reference/read.tecan.xml.html">read.tecan.xml</a></span>(file)</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span>(xml.in, <span class="st">"xml.parsed.csv"</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6">df =<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span>(<span class="st">"xml.parsed.csv"</span>)</a></code></pre></div>
</div>
<div id="metafile" class="section level2">
<h2 class="hasAnchor">
<a href="#metafile" class="anchor"></a>Metafile</h2>
<p>The current concept starts with calculations per well, and only at the final point add the meta information (with a simple join). Summaries can easily be made using the summarize function from dplyr.</p>
</div>
<div id="data-cleanuprestructure" class="section level2">
<h2 class="hasAnchor">
<a href="#data-cleanuprestructure" class="anchor"></a>Data cleanup/restructure</h2>
<p>We’ll split up the dataframe to retrieve only the core data. While doing so, we will also condense the data.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># start calculations</span></a>
<a class="sourceLine" id="cb2-2" title="2">df.temperature &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(variable <span class="op">==</span><span class="st"> "Temperature"</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co"># condens table</span></a>
<a class="sourceLine" id="cb2-6" title="6">df<span class="fl">.1</span> &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="op">!</span>(variable <span class="op">==</span><span class="st"> "Temperature"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="st">  </span><span class="co"># time.to.hour("time") %&gt;%</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="st">  </span><span class="kw">group_by</span>(well, variable) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="st">  </span><span class="kw">nest</span>()</a></code></pre></div>
</div>
</div>
<div id="calculations" class="section level1">
<h1 class="hasAnchor">
<a href="#calculations" class="anchor"></a>Calculations</h1>
<div id="expontential-time" class="section level2">
<h2 class="hasAnchor">
<a href="#expontential-time" class="anchor"></a>Expontential time</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">df.exp.time &lt;-<span class="st"> </span>df<span class="fl">.1</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(variable <span class="op">==</span><span class="st"> "ABS_600_600_NA"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">exp.time =</span> <span class="kw">map_dbl</span>(data, <span class="op">~</span><span class="kw"><a href="../reference/calc.exp.time.html">calc.exp.time</a></span>(., <span class="dt">input_time =</span> <span class="st">"time"</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">  </span><span class="kw">select</span>(well, exp.time)</a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co"># join with the original table</span></a>
<a class="sourceLine" id="cb3-8" title="8">df.exp &lt;-<span class="st"> </span>df<span class="fl">.1</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="st">  </span><span class="kw">left_join</span>(df.exp.time)</a>
<a class="sourceLine" id="cb3-10" title="10"></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co"># create dataframe with data only from exponential time</span></a>
<a class="sourceLine" id="cb3-12" title="12">df<span class="fl">.2</span> &lt;-<span class="st"> </span>df.exp <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">data.exp =</span> <span class="kw">map2</span>(data, exp.time, <span class="op">~</span>.x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(time <span class="op">&lt;</span><span class="st"> </span>.y)))</a></code></pre></div>
</div>
<div id="mu-q" class="section level2">
<h2 class="hasAnchor">
<a href="#mu-q" class="anchor"></a>Mu / q</h2>
<p>Calcualte q’s. mu is special case of q.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">df.q &lt;-<span class="st"> </span>df<span class="fl">.2</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">  </span><span class="kw">select</span>(well, variable, data.exp) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">fit =</span> <span class="kw">map</span>( data.exp, <span class="op">~</span><span class="kw"><a href="../reference/q.calc.individual.html">q.calc.individual</a></span>(.))) </a></code></pre></div>
</div>
<div id="ratios" class="section level2">
<h2 class="hasAnchor">
<a href="#ratios" class="anchor"></a>ratio’s</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">df.tmp &lt;-<span class="st"> </span>df<span class="fl">.2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(variable <span class="op">==</span><span class="st"> "ABS_600_600_NA"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ungroup</span>()</a>
<a class="sourceLine" id="cb5-2" title="2">df.tmp2 &lt;-<span class="st"> </span>df<span class="fl">.2</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span> (variable <span class="op">!=</span><span class="st"> "ABS_600_600_NA"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ungroup</span>()</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4">df.ratio &lt;-<span class="st"> </span>df.tmp2 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw">left_join</span>(df.tmp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dt">norm.data =</span> data, well), <span class="dt">by=</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"well"</span> =<span class="st"> "well"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">data =</span>  <span class="kw">map2</span>(data, <span class="st">`</span><span class="dt">norm.data</span><span class="st">`</span>, <span class="op">~</span><span class="kw">left_join</span>(.x, .y, <span class="dt">by =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"time"</span> =<span class="st"> "time"</span>), <span class="dt">suffix=</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">""</span>, <span class="st">".norm"</span>)))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data.exp ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>norm.data) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">data.exp =</span> <span class="kw">map2</span>(data, exp.time, <span class="op">~</span>.x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(time <span class="op">&lt;</span><span class="st"> </span>.y)))</a>
<a class="sourceLine" id="cb5-10" title="10"></a>
<a class="sourceLine" id="cb5-11" title="11">df.ratio.fit &lt;-<span class="st"> </span>df.ratio <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lin.fit =</span> <span class="kw">map</span>(data.exp, <span class="op">~</span><span class="kw"><a href="../reference/ratio.calc.individual.html">ratio.calc.individual</a></span>(., <span class="dt">x.signal =</span> <span class="st">'value.norm'</span>, <span class="dt">y.signal=</span><span class="st">'value'</span>))) </a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14">o &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.extract.data.html">ratio.extract.data</a></span>(df.ratio.fit, <span class="st">"lin.fit"</span>)</a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#data-input-">data input.</a><ul class="nav nav-pills nav-stacked">
<li><a href="#xml-file">XML file</a></li>
      <li><a href="#metafile">Metafile</a></li>
      <li><a href="#data-cleanuprestructure">Data cleanup/restructure</a></li>
      </ul>
</li>
      <li>
<a href="#calculations">Calculations</a><ul class="nav nav-pills nav-stacked">
<li><a href="#expontential-time">Expontential time</a></li>
      <li><a href="#mu-q">Mu / q</a></li>
      <li><a href="#ratios">ratio’s</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by pieter coussement.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
